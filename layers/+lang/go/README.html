<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-01-21 Fri 03:02 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Go layer</title>
<meta name="author" content="root" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
</style>
<link rel="stylesheet" type="text/css"
                 href="http://www.pirilampo.org/styles/readtheorg/css/htmlize.css"/>
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
          <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
          <script src="http://www.pirilampo.org/styles/readtheorg/js/readtheorg.js"></script>
          <script>
          // Google Analytics
                     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                         (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new
                         Date();a=s.createElement(o),
                         m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                         })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                     ga('create', 'UA-28326243-2', 'auto'); ga('send', 'pageview');

          // Add permalinks to the documentation headings
          $(document).ready(function() {
              [".outline-2 h2", ".outline-3 h3", ".outline-4 h4", ".outline-5 h5"].forEach(function(i) {
                  $(i).each(function() {
                          var page_url = window.location.pathname;
                          var node = $(this).attr("id");
                          var full_url = page_url + "#" + node;
                          $(this).contents().last().after('<span id="permalink"><a href="'
                                                          + full_url + '">Â¶</a></span>');
                  });
              });
          });
          </script>
<link rel="stylesheet" type="text/css" href="../../../css/readtheorg.css" />
</head>
<body>
<div id="content" class="content">
<div class="admonition warning">
<p class="first last">
You are viewing the documentation for the develop branch.
The documentation for the release version is
<a href="https://www.spacemacs.org/doc/DOCUMENTATION.html"
onclick="location='https://www.spacemacs.org'+location.pathname+location.search+location.hash;return false;">here</a>
.
</p>
</div>
<div id="toggle-sidebar"><a href="#table-of-contents"><h2>Table of Contents</h2></a></div>
<h1 class="title">Go layer</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents<a href="#">Close</a></h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#description">1. Description</a>
<ul>
<li><a href="#features">1.1. Features:</a></li>
</ul>
</li>
<li><a href="#install">2. Install</a>
<ul>
<li><a href="#layer">2.1. Layer</a></li>
<li><a href="#choosing-a-backend">2.2. Choosing a backend</a>
<ul>
<li><a href="#lsp-gopls">2.2.1. LSP (gopls)</a></li>
<li><a href="#go-mode-deprecated">2.2.2. go-mode (deprecated)</a></li>
</ul>
</li>
<li><a href="#binary-dependencies">2.3. Binary dependencies</a></li>
</ul>
</li>
<li><a href="#configuration">3. Configuration</a>
<ul>
<li><a href="#execution">3.1. Execution</a></li>
<li><a href="#indentation">3.2. Indentation</a></li>
<li><a href="#autoformat">3.3. Autoformat</a></li>
<li><a href="#linting">3.4. Linting</a></li>
<li><a href="#tests">3.5. Tests</a></li>
<li><a href="#coverage">3.6. Coverage</a></li>
<li><a href="#guru">3.7. Guru</a></li>
</ul>
</li>
<li><a href="#key-bindings">4. Key bindings</a>
<ul>
<li><a href="#go-commands-start-with-m">4.1. Go commands (start with <code>m</code>):</a></li>
<li><a href="#go-guru">4.2. Go Guru</a></li>
<li><a href="#refactoring">4.3. Refactoring</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="org7cde2f1" class="figure">
<p><img src="img/go.png" alt="go.png" />
</p>
</div>

<div id="outline-container-description" class="outline-2">
<h2 id="description"><span class="section-number-2">1.</span> Description</h2>
<div class="outline-text-2" id="text-description">
<p>
This layer adds extensive support for the <a href="https://golang.org">Go</a> programming language.
</p>
</div>

<div id="outline-container-features" class="outline-3">
<h3 id="features"><span class="section-number-3">1.1.</span> Features:</h3>
<div class="outline-text-3" id="text-features">
<ul class="org-ul">
<li>Run <a href="https://golang.org/cmd/gofmt/">gofmt</a> / <a href="https://godoc.org/golang.org/x/tools/cmd/goimports">goimports</a> on file save (see <a href="#autoformat">Autoformat</a>)</li>
<li>Auto-completion</li>
<li>Source analysis using <a href="https://docs.google.com/document/d/1_Y9xCEMj5S-7rv2ooHpZNH15JgRT5iM742gJkw5LtmQ">go-guru</a> (see <a href="#guru">Guru</a>)</li>
<li>Refactoring with <a href="https://github.com/godoctor/godoctor">godoctor</a></li>
<li>Edit struct field tags with <a href="https://github.com/fatih/gomodifytags">gomodifytags</a></li>
<li>Syntax checking with flycheck's built-in checkers or <a href="https://github.com/golangci/golangci-lint">golangci-lint</a> (see <a href="#linting">Linting</a>)</li>
<li>Test generation via <a href="https://github.com/s-kostyaev/go-gen-test">go-gen-test</a> (see <a href="#tests">Tests</a>)</li>
<li>Coverage profile visualization (see <a href="#coverage">Coverage</a>)</li>
<li>List packages faster with <a href="https://github.com/haya14busa/gopkgs">gopkgs</a></li>
<li>Fill a structure with default values using the <a href="https://github.com/davidrjenni/reftools/tree/master/cmd/fillstruct">fillstruct</a></li>
<li>Gopls backend support (see <a href="#lsp-gopls">LSP backend</a>)</li>
<li>Interactive debugger with LSP using <a href="https://github.com/emacs-lsp/dap-mode">dap-mode</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-install" class="outline-2">
<h2 id="install"><span class="section-number-2">2.</span> Install</h2>
<div class="outline-text-2" id="text-install">
</div>

<div id="outline-container-layer" class="outline-3">
<h3 id="layer"><span class="section-number-3">2.1.</span> Layer</h3>
<div class="outline-text-3" id="text-layer">
<p>
To use this configuration layer, add it to your <code>~/.spacemacs</code>. You will need to
add <code>go</code> to the existing <code>dotspacemacs-configuration-layers</code> list in this file.
</p>
</div>
</div>

<div id="outline-container-choosing-a-backend" class="outline-3">
<h3 id="choosing-a-backend"><span class="section-number-3">2.2.</span> Choosing a backend</h3>
<div class="outline-text-3" id="text-choosing-a-backend">
<p>
Basically you have to choose between multiple language backends.
This choice defines mainly which kind of IDE features spacemacs
can deliver.
</p>

<p>
Alternatively if non is set the <code>lsp</code> backend will be automatically
chosen if the layer <code>lsp</code> is used otherwise <code>go-mode</code> will be used.
</p>

<p>
For best results, make sure that the <code>auto-completion</code> and <code>syntax-checking</code>
layers are enabled as well.
</p>
</div>

<div id="outline-container-lsp-gopls" class="outline-4">
<h4 id="lsp-gopls"><span class="section-number-4">2.2.1.</span> LSP (gopls)</h4>
<div class="outline-text-4" id="text-lsp-gopls">
<p>
This is the official IDE configuration for the current go versions.
It includes auto-completion and syntax checking support.
</p>

<p>
It is based on an external development server written in go itself,
which must be installed separately before this layer can be used.
</p>

<p>
Starting and stopping the server is done by emacs so you normally
won't notice it happen.
</p>

<p>
Detailed bindings and configuration can be found in <a href="https://github.com/syl20bnr/spacemacs/tree/develop/layers/%2Btools/lsp#key-bindings">lsp layer description</a>.
</p>

<p>
To choose this backend set the layer variable <code>go-backend</code>:
</p>

<div class="org-src-container">
<pre class="src src-elisp">(go <span class="org-builtin">:variables</span> go-backend 'lsp)
</pre>
</div>

<p>
You also need to install gopls as the language server implementation
and add it to your <code>PATH</code>. If your go environment is properly
prepared you can simply run below command to install:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-variable-name">GO111MODULE</span>=on go install golang.org/x/tools/gopls@latest
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="debugger"></a>Debugger<br />
<div class="outline-text-5" id="text-debugger">
<p>
Using the <code>dap</code> layer you'll get access to a graphical debugger integration.
To do so add the layer <code>dap</code> to your dotfile. For a complete list of key bindings
see the <a href="https://github.com/syl20bnr/spacemacs/tree/develop/layers/%2Btools/dap#key-bindings">dap layer description</a>.
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-go-mode-deprecated" class="outline-4">
<h4 id="go-mode-deprecated"><span class="section-number-4">2.2.2.</span> go-mode (deprecated)</h4>
<div class="outline-text-4" id="text-go-mode-deprecated">
<p>
This was the old elisp based go backend. Since the introduction of
<code>go-modules</code> this has stopped working and will not be patched.
</p>

<p>
To choose it nevertheless set the layer variable <code>go-backend</code>:
</p>

<div class="org-src-container">
<pre class="src src-elisp">(go <span class="org-builtin">:variables</span> go-backend 'go-mode)
</pre>
</div>

<p>
You will also need the following dependencies for auto-completion:
</p>

<div class="org-src-container">
<pre class="src src-sh">go install github.com/mdempsky/gocode@latest
go install github.com/zmb3/gogetdoc@latest
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="documentation-lookup-binary"></a>Documentation lookup binary<br />
<div class="outline-text-5" id="text-documentation-lookup-binary">
<p>
For auto-completion there are actually two choices. First there is the classic
<code>gocode</code>. This has been around for quite a long time now, however <code>gocode</code> has many
shortcomings, like not being able to show documentation for built-in objects or
being fully dependent on installed binary files to provide its suggestions.
</p>

<p>
A more modern and complete solution is provided by <code>gogetdoc</code>, which is able to
precisely detect all documentations in your go projects independently from where
they have been added. This is also the recommended choice from <code>go-mode.el</code>.
</p>

<p>
To choose <code>gocode</code> nothing more needs to be done. To use <code>gogetdoc</code> you need to set
the layer variable:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(go <span class="org-builtin">:variables</span> godoc-at-point-function 'godoc-gogetdoc)
</pre>
</div>

<p>
If you choose to use <code>gocode</code> there are some suggestions to improve its results.
As <code>gocode</code> uses the output from installed binary files to provide its suggestions.
You have a few options to ensure you always get up to date suggestions:
</p>
<ul class="org-ul">
<li>Run <code>go install ./...</code> in your package directory when you make a file change.</li>
<li>Run <code>gocode set autobuild true</code> to have gocode attempt to run <code>go install ./...</code>
for you.</li>
<li>You can configure your task runner to run the <code>go install ./...</code> command on every
file change.</li>
</ul>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-binary-dependencies" class="outline-3">
<h3 id="binary-dependencies"><span class="section-number-3">2.3.</span> Binary dependencies</h3>
<div class="outline-text-3" id="text-binary-dependencies">
<p>
This section lists dependencies which are independent of the
language backend, most are installed directly via <code>go get</code>:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-variable-name">GO111MODULE</span>=on <span class="org-variable-name">CGO_ENABLED</span>=0 go install -v -trimpath -ldflags <span class="org-string">'-s -w'</span> github.com/golangci/golangci-lint/cmd/golangci-lint@latest
go install golang.org/x/tools/cmd/godoc@latest
go install golang.org/x/tools/cmd/goimports@latest
go install golang.org/x/tools/cmd/gorename@latest
go install golang.org/x/tools/cmd/guru@latest
go install github.com/cweill/gotests/...@latest
go install github.com/davidrjenni/reftools/cmd/fillstruct@latest
go install github.com/fatih/gomodifytags@latest
go install github.com/godoctor/godoctor@latest
go install github.com/haya14busa/gopkgs/cmd/gopkgs@latest
go install github.com/josharian/impl@latest
go install github.com/rogpeppe/godef@latest
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-configuration" class="outline-2">
<h2 id="configuration"><span class="section-number-2">3.</span> Configuration</h2>
<div class="outline-text-2" id="text-configuration">
</div>

<div id="outline-container-execution" class="outline-3">
<h3 id="execution"><span class="section-number-3">3.1.</span> Execution</h3>
<div class="outline-text-3" id="text-execution">
<p>
By default, the go run command is <code>go run</code>. If you want to use a different
command or run with environment variables, set the layer variable
<code>go-run-command</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(go <span class="org-builtin">:variables</span> go-run-command <span class="org-string">"ENV_VAR=foo go run"</span>)
</pre>
</div>

<p>
To run the current <code>main</code> package with command line arguments, set the value of
<code>go-run-args</code> as a file local variable, e.g.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">// Local Variables&#58;
// go-run-args: <span class="org-string">"--output run.log"</span>
// End:
</pre>
</div>
</div>
</div>

<div id="outline-container-indentation" class="outline-3">
<h3 id="indentation"><span class="section-number-3">3.2.</span> Indentation</h3>
<div class="outline-text-3" id="text-indentation">
<p>
By default, the tab width in Go mode is 8 spaces. To use a different value, set
the layer variable <code>go-tab-width</code>, e.g.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(go <span class="org-builtin">:variables</span> go-tab-width 4)
</pre>
</div>

<p>
If you're using <code>.editorconfig</code> in your project, set the value to nil to avoid
conflicts, i.e.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(go <span class="org-builtin">:variables</span> go-tab-width nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-autoformat" class="outline-3">
<h3 id="autoformat"><span class="section-number-3">3.3.</span> Autoformat</h3>
<div class="outline-text-3" id="text-autoformat">
<p>
To run <code>gofmt</code> before save, set the value to a non-nil, i.e.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(go <span class="org-builtin">:variables</span> go-format-before-save t)
</pre>
</div>

<p>
To use a different formatter, set the value of <code>gofmt-command</code>, e.g.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(go <span class="org-builtin">:variables</span> gofmt-command <span class="org-string">"goimports"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-linting" class="outline-3">
<h3 id="linting"><span class="section-number-3">3.4.</span> Linting</h3>
<div class="outline-text-3" id="text-linting">
<p>
If you wish to use <code>golangci-lint</code>, set the following layer variable to non-nil:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(go <span class="org-builtin">:variables</span> go-use-golangci-lint t)
</pre>
</div>

<p>
Check <a href="https://github.com/golangci/golangci-lint">golangci-lint</a> and <a href="https://github.com/weijiangan/flycheck-golangci-lint">flycheck-golangci-lint</a> for more details.
</p>

<p>
Please remember that without properly configured <code>flycheck-golangci-lint</code> variables <code>golangci-lint</code>
may not run as expected. The recommended way is to use a <code>.golangi.yml</code> in your project.
But if this is not possible you can also set global command line flags for <code>golangci-lint</code>.
Especially important is the selection of which linters to run and whether to lint test files too.
</p>

<p>
It may happen from time to time that <code>golangci-lint</code> is not able to parse a buffers content
properly. This normally happens when there are basic errors in the file which prevent more
complex analytics to run. In this case a set of errors will be shown at the top of the
current buffer which are not properly parsed by flycheck. Spacemacs still shows basic
errors in your buffer. When these have been fixed <code>golangci-lint</code> will regenerate
and further diagnostic data will be made available.
</p>

<p>
When this happens please report a bug to `golangci-lint` they are working hard
to fix these.
</p>
</div>
</div>

<div id="outline-container-tests" class="outline-3">
<h3 id="tests"><span class="section-number-3">3.5.</span> Tests</h3>
<div class="outline-text-3" id="text-tests">
<p>
If you're using <code>gocheck</code> or <code>testify</code> in your project you can use the
<code>go-use-gocheck-for-testing</code> or <code>go-use-testify-for-testing</code> variable to enable
suite testing and to get single function testing to work.
</p>

<p>
Tests are run in a compilation buffer displayed in a popup window that can be
closed by pressing <code>C-g</code> from any other window. The variable <code>go-test-buffer-name</code>
can be customized to set the output buffer name.
</p>

<p>
By default, the go test command is <code>go test</code>. If you want to use a different
command or test with environment variables, set the layer variable
<code>go-test-command</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(go <span class="org-builtin">:variables</span> go-test-command <span class="org-string">"ENV_VAR=foo go test"</span>)
</pre>
</div>

<p>
To provide additional arguments to <code>go test</code>, specify <code>go-use-test-args</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(go <span class="org-builtin">:variables</span> go-use-test-args <span class="org-string">"-race -timeout 10s"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-coverage" class="outline-3">
<h3 id="coverage"><span class="section-number-3">3.6.</span> Coverage</h3>
<div class="outline-text-3" id="text-coverage">
<p>
<code>go-coverage-display-buffer-func</code> controls how <code>go-coverage</code> should display
the coverage buffer. See <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Choosing-Window.html">display-buffer</a> for a list of possible functions.
The default value is <code>display-buffer-reuse-window</code>.
</p>
</div>
</div>

<div id="outline-container-guru" class="outline-3">
<h3 id="guru"><span class="section-number-3">3.7.</span> Guru</h3>
<div class="outline-text-3" id="text-guru">
<p>
If you would like to use the <code>Go Guru</code> bindings in your work, in your project you
will need to set the scope with <code>SPC m f o</code>. The scope is a comma separated set
of packages, and Go's recursive operator is supported. In addition, you can
prefix it with <code>-</code> to exclude a package from searching.
</p>
</div>
</div>
</div>

<div id="outline-container-key-bindings" class="outline-2">
<h2 id="key-bindings"><span class="section-number-2">4.</span> Key bindings</h2>
<div class="outline-text-2" id="text-key-bindings">
</div>

<div id="outline-container-go-commands-start-with-m" class="outline-3">
<h3 id="go-commands-start-with-m"><span class="section-number-3">4.1.</span> Go commands (start with <code>m</code>):</h3>
<div class="outline-text-3" id="text-go-commands-start-with-m">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key binding</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>SPC m =</code></td>
<td class="org-left">run "go fmt"</td>
</tr>

<tr>
<td class="org-left"><code>SPC m e b</code></td>
<td class="org-left">go-play buffer</td>
</tr>

<tr>
<td class="org-left"><code>SPC m e d</code></td>
<td class="org-left">download go-play snippet</td>
</tr>

<tr>
<td class="org-left"><code>SPC m e r</code></td>
<td class="org-left">go-play region</td>
</tr>

<tr>
<td class="org-left"><code>SPC m g a</code></td>
<td class="org-left">jump to matching test file or back from test to code file</td>
</tr>

<tr>
<td class="org-left"><code>SPC m g c</code></td>
<td class="org-left">open a clone of the current buffer with a coverage info (<code>go tool cover -h</code> for help)</td>
</tr>

<tr>
<td class="org-left"><code>SPC m g g</code></td>
<td class="org-left">go jump to definition</td>
</tr>

<tr>
<td class="org-left"><code>SPC m h h</code></td>
<td class="org-left">godoc at point</td>
</tr>

<tr>
<td class="org-left"><code>SPC m i a</code></td>
<td class="org-left">add import</td>
</tr>

<tr>
<td class="org-left"><code>SPC m i g</code></td>
<td class="org-left">goto imports</td>
</tr>

<tr>
<td class="org-left"><code>SPC m i r</code></td>
<td class="org-left">remove unused import</td>
</tr>

<tr>
<td class="org-left"><code>SPC m r n</code></td>
<td class="org-left">go rename</td>
</tr>

<tr>
<td class="org-left"><code>SPC m t P</code></td>
<td class="org-left">run "go test" for the current package and all packages under it</td>
</tr>

<tr>
<td class="org-left"><code>SPC m t g f</code></td>
<td class="org-left">generate tests for all exported functions</td>
</tr>

<tr>
<td class="org-left"><code>SPC m t g F</code></td>
<td class="org-left">generate tests for all functions</td>
</tr>

<tr>
<td class="org-left"><code>SPC m t g g</code></td>
<td class="org-left">DWIM generate test for the function in the active region</td>
</tr>

<tr>
<td class="org-left"><code>SPC m t p</code></td>
<td class="org-left">run "go test" for the current package</td>
</tr>

<tr>
<td class="org-left"><code>SPC m t s</code></td>
<td class="org-left">run "go test" for the suite you're currently in (requires gocheck)</td>
</tr>

<tr>
<td class="org-left"><code>SPC m t t</code></td>
<td class="org-left">run "go test" for the function you're currently in (while you're in a _.test.go file)</td>
</tr>

<tr>
<td class="org-left"><code>SPC m x x</code></td>
<td class="org-left">run "go run" for the current 'main' package</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-go-guru" class="outline-3">
<h3 id="go-guru"><span class="section-number-3">4.2.</span> Go Guru</h3>
<div class="outline-text-3" id="text-go-guru">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key binding</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>SPC m f &lt;</code></td>
<td class="org-left">go-guru show possible callers</td>
</tr>

<tr>
<td class="org-left"><code>SPC m f &gt;</code></td>
<td class="org-left">go-guru show call targets</td>
</tr>

<tr>
<td class="org-left"><code>SPC m f c</code></td>
<td class="org-left">go-guru show channel sends/receives</td>
</tr>

<tr>
<td class="org-left"><code>SPC m f d</code></td>
<td class="org-left">go-guru describe symbol at point</td>
</tr>

<tr>
<td class="org-left"><code>SPC m f e</code></td>
<td class="org-left">go-guru show possible contants/types for error value</td>
</tr>

<tr>
<td class="org-left"><code>SPC m f f</code></td>
<td class="org-left">go-guru show free variables</td>
</tr>

<tr>
<td class="org-left"><code>SPC m f i</code></td>
<td class="org-left">go-guru show implements relation</td>
</tr>

<tr>
<td class="org-left"><code>SPC m f j</code></td>
<td class="org-left">go-guru jump to symbol definition</td>
</tr>

<tr>
<td class="org-left"><code>SPC m f o</code></td>
<td class="org-left">go-guru set analysis scope</td>
</tr>

<tr>
<td class="org-left"><code>SPC m f p</code></td>
<td class="org-left">go-guru show what the select expression points to</td>
</tr>

<tr>
<td class="org-left"><code>SPC m f r</code></td>
<td class="org-left">go-guru show referrers</td>
</tr>

<tr>
<td class="org-left"><code>SPC m f s</code></td>
<td class="org-left">go-guru show callstack</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-refactoring" class="outline-3">
<h3 id="refactoring"><span class="section-number-3">4.3.</span> Refactoring</h3>
<div class="outline-text-3" id="text-refactoring">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key binding</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>SPC m r d</code></td>
<td class="org-left">Add comment stubs</td>
</tr>

<tr>
<td class="org-left"><code>SPC m r e</code></td>
<td class="org-left">Extract code as new function</td>
</tr>

<tr>
<td class="org-left"><code>SPC m r f</code></td>
<td class="org-left">Add field tags (with <code>gomodifytags</code>)</td>
</tr>

<tr>
<td class="org-left"><code>SPC m r F</code></td>
<td class="org-left">Remove field tags (with <code>gomodifytags</code>)</td>
</tr>

<tr>
<td class="org-left"><code>SPC m r i</code></td>
<td class="org-left">Generate method stubs for implementing an interface (<code>go-impl</code>)</td>
</tr>

<tr>
<td class="org-left"><code>SPC m r n</code></td>
<td class="org-left">Rename (with <code>godoctor</code>)</td>
</tr>

<tr>
<td class="org-left"><code>SPC m r N</code></td>
<td class="org-left">Rename (with <code>go-rename</code>)</td>
</tr>

<tr>
<td class="org-left"><code>SPC m r s</code></td>
<td class="org-left">Fill structure with default values (with <code>go-fillstruct</code>)</td>
</tr>

<tr>
<td class="org-left"><code>SPC m r t</code></td>
<td class="org-left">Toggle declaration and assignment</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: root</p>
<p class="date">Created: 2022-01-21 Fri 03:02</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
